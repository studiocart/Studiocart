{"version":3,"file":"order-form.js","mappings":"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","sources":["webpack://gutenberg/external window \"React\"","webpack://gutenberg/external window [\"wp\",\"apiFetch\"]","webpack://gutenberg/external window [\"wp\",\"blockEditor\"]","webpack://gutenberg/external window [\"wp\",\"components\"]","webpack://gutenberg/external window [\"wp\",\"data\"]","webpack://gutenberg/external window [\"wp\",\"element\"]","webpack://gutenberg/webpack/bootstrap","webpack://gutenberg/webpack/runtime/compat get default export","webpack://gutenberg/webpack/runtime/define property getters","webpack://gutenberg/webpack/runtime/hasOwnProperty shorthand","webpack://gutenberg/webpack/runtime/make namespace object","webpack://gutenberg/./checkout-form/order-form.js"],"sourcesContent":["module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { TextControl, PanelBody, PanelRow, SelectControl, ToggleControl } from \"@wordpress/components\";\r\nimport { InspectorControls } from '@wordpress/block-editor';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { useState, useEffect } from \"react\";\r\nimport apiFetch from \"@wordpress/api-fetch\";\r\n\r\nconst {__} = wp.i18n; //translation functions\r\n\r\nwp.blocks.registerBlockType(\"sc-products-shortcode/product-shortcode\", {\r\n    title: __( sc_product_shortcode_script_gb.may_white_label_title+' Order Form' ), // Block title.\r\n\tcategory: 'common',\r\n    attributes: {\r\n        pid: {type: \"string\", default: ''},\r\n        hide_labels: {type: \"boolean\", default: false},\r\n        template: {type: \"string\", default: false},\r\n        coupon: {type: \"string\", default: ''},\r\n    },\r\n\ticon: 'cart',\r\n\tedit: EditForm,\r\n\tsave: function(props) {\r\n\t\treturn null;\r\n\t}\r\n});\r\n\r\nfunction EditForm (props) {\r\n\r\n    const [thePreview, setThePreview] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        async function go() {\r\n            const response = await apiFetch({\r\n                path: `/sc-order-form/v1/getHTML?pid=${props.attributes.pid}`,\r\n                method: 'GET'\r\n            })\r\n            setThePreview(response)\r\n        }\r\n        go()\r\n    }, [props.attributes.pid]);\r\n\r\n    const allProds = useSelect(select =>{\r\n        return select(\"core\").getEntityRecords('postType', 'sc_product', {per_page: -1})\r\n    })\r\n\r\n    console.log(allProds);\r\n\r\n    let options = [{ label: __( 'Loading...', 'ncs-cart' ), value: '' }];\r\n    if (allProds != undefined) {\r\n        options = [\r\n            { label: __( 'Dynamic', 'ncs-cart' ), value: '' },\r\n        ]\r\n\r\n        for (var i = 0; i < allProds.length; i++) {\r\n            options[i+1] = {value: allProds[i].id, label: allProds[i].title.rendered};\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <InspectorControls>\r\n                <PanelBody title={__( 'Order Form', 'ncs-cart' )}>\r\n                    <PanelRow>\r\n                        <SelectControl isBlock\r\n                            label={__( 'Product', 'ncs-cart' )}\r\n                            value={props.attributes.pid} \r\n                            options={options}\r\n                            onChange={(value) => {props.setAttributes({pid: value})}} />\r\n                    </PanelRow>\r\n                    \r\n                    <ToggleControl\r\n                                label={ __( 'Hide Labels', 'ncs-cart' ) }\r\n                                /*help={\r\n                                    hideLabels\r\n                                        ? 'Hide labels.'\r\n                                        : 'No hide labels.'\r\n                                }*/\r\n                                checked={props.attributes.hide_labels}\r\n                                onChange={ (value) => {props.setAttributes({hide_labels: value })} }\r\n                            />\r\n\r\n                    <PanelRow>\r\n                        <SelectControl isBlock\r\n                            label={ __( 'Skin', 'ncs-cart' ) } \r\n                            value={props.attributes.template} \r\n                            options={ [\r\n                                { label: 'Default', value: '' },\r\n                                { label: 'Normal', value: 'normal' },\r\n                                { label: '2-Step', value: 'true' },\r\n                                { label: 'Opt-in', value: 'opt-in' },\r\n                            ] }\r\n                            onChange={(value) => {props.setAttributes({template: value})}} />\r\n                    </PanelRow>\r\n                    <PanelRow>\r\n                        <TextControl \r\n                            label=\"Coupon\" \r\n                            labelPosition=\"side\" \r\n                            value={props.attributes.coupon} \r\n                            onChange={(value) => {props.setAttributes({coupon: value})}} />\r\n                    </PanelRow> \r\n                </PanelBody>\r\n            </InspectorControls>\r\n            \r\n            <button style={{border: \"none\"}} class=\"editor-post-featured-image__toggle\" dangerouslySetInnerHTML={{__html: thePreview}}></button>\r\n\r\n        </div>\r\n    );\r\n}"],"names":["TextControl","PanelBody","PanelRow","SelectControl","ToggleControl","InspectorControls","useSelect","useState","useEffect","apiFetch","__","wp","i18n","blocks","registerBlockType","title","sc_product_shortcode_script_gb","may_white_label_title","category","attributes","pid","type","default","hide_labels","template","coupon","icon","edit","EditForm","save","props","thePreview","setThePreview","go","response","path","method","allProds","select","getEntityRecords","per_page","console","log","options","label","value","undefined","i","length","id","rendered","setAttributes","border","__html"],"sourceRoot":""}